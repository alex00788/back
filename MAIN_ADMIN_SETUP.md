# Настройка главного админа системы

## Автоматическая инициализация

При первом запуске системы автоматически создается главный админ со следующими данными:

### Данные пользователя:
- **Имя**: Александр
- **Фамилия**: Фоничев
- **Email**: alex-007.88@mail.ru
- **Телефон**: 89168402927
- **Роль**: MAIN_ADMIN
- **Тариф**: PREMIUM
- **Статус**: Активирован

### Данные организации:
- **Название**: Акро-клуб TRAMPOLINE
- **Руководитель**: Александр Фоничев
- **Телефон**: 89168402927
- **Email**: alex-007.88@mail.ru
- **Статус ссылки**: Активна

### Настройки в организации:
- **Роль**: ADMIN
- **Должность**: Главный администратор
- **Направление**: Управление
- **Остаток средств**: 999999 (неограниченный)
- **Время работы**: 08:00 - 22:00
- **Максимум клиентов**: 50
- **Местоположение**: Москва, ул. Примерная, д. 1
- **Телефон организации**: 89168402927

## Переменные окружения

Для изменения данных главного админа можно использовать следующие переменные окружения:

```bash
# Email главного админа
MAIN_ADMIN_EMAIL=fonichev@example.com

# Телефон главного админа
MAIN_ADMIN_PHONE=89168402927
```

## API для управления инициализацией

### Проверка статуса системы
```
GET /api/seed/status
```

### Инициализация системы
```
POST /api/seed/initialize
```

### Валидация данных главного админа
```
GET /api/seed/validate-admin
```

### Получение информации о главном админе
```
GET /api/seed/admin-info
```

## Логика работы

1. При запуске сервера автоматически вызывается `seedService.initializeSystem()`
2. Система проверяет, существует ли уже главный админ и организация
3. Если данные отсутствуют, они создаются автоматически
4. Главный админ получает роль `MAIN_ADMIN` и неограниченные права
5. Организация "Акро-клуб TRAMPOLINE" создается с активной ссылкой для регистрации клиентов

## Безопасность

- Главный админ не может быть переименован через обычные функции
- Email и телефон главного админа используются для определения роли при регистрации
- Данные главного админа защищены от случайного удаления
- Система автоматически восстанавливает данные при их отсутствии

## Примечания

- При первом запуске системы на пустой базе данных все необходимые таблицы создаются автоматически
- Главный админ создается с активированным статусом (не требует подтверждения email)
- Организация создается с активной ссылкой для регистрации клиентов
- Все настройки главного админа оптимизированы для максимальной функциональности

